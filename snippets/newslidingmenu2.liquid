<!-- snippets/newslidingmenu2.liquid -->
<div class="outer-menu">
   <button type="button" class="close-x">
      <svg aria-hidden="true" focusable="false" role="presentation" class="icon icon-close" viewBox="0 0 64 64">
         <path d="M19 17.61l27.12 27.13m0-27.12L19 44.74"></path>
      </svg>
      <span class="icon__fallback-text">Close (esc)</span>
   </button>
   <div class="newmenu">
      <div class="top-navmenu">
         <div class="women-menu gendermenu jactive">
            Women
         </div>
         <div class="men-menu gendermenu">
            Men
         </div>
      </div>
      <div class="newmenu-inner">

         <!-- 
         <div class="top-mobile-images">
            <div class="botborder">
                <a href="{{ section.settings.right_link_1 }}">
                    <img src="{{ section.settings.right_image_1 | img_url: 'large' }}">
                </a>
                <a href="{{ section.settings.right_link_2 }}">
               <img src="{{ section.settings.right_image_2 | img_url: 'large' }}">
               </a>
            </div>
         </div>
         -->

<div class="trending-menu">
  {% if section.settings.trending_title != blank %}
    <h3 class="trending-title">{{ section.settings.trending_title }}</h3>
  {% endif %}
  
  <!-- Women's Trending Items -->
  <ul class="trending-list women">
    {% for block in section.blocks %}
      {% if block.type == 'trending_item' and block.settings.gender == 'women' %}
        <li>
          <a href="{{ block.settings.link }}" 
             {% if block.settings.is_clearance %}class="clearance"{% endif %}
             {% if block.settings.badge_text != blank %}class="with-badge"{% endif %}>
            {{ block.settings.text }}
            {% if block.settings.badge_text != blank %}
              <span class="badge" 
                    {% if block.settings.badge_bg_color != blank %}
                      style="background-color: {{ block.settings.badge_bg_color }}; color: {{ block.settings.badge_text_color | default: '#555' }};"
                    {% endif %}>
                {{ block.settings.badge_text }}
              </span>
            {% endif %}
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>

  <!-- Men's Trending Items -->
  <ul class="trending-list men" style="display:none;">
    {% for block in section.blocks %}
      {% if block.type == 'trending_item' and block.settings.gender == 'men' %}
        <li>
          <a href="{{ block.settings.link }}" 
             {% if block.settings.is_clearance %}class="clearance"{% endif %}
             {% if block.settings.badge_text != blank %}class="with-badge"{% endif %}>
            {{ block.settings.text }}
            {% if block.settings.badge_text != blank %}
              <span class="badge" 
                    {% if block.settings.badge_bg_color != blank %}
                      style="background-color: {{ block.settings.badge_bg_color }}; color: {{ block.settings.badge_text_color | default: '#555' }};"
                    {% endif %}>
                {{ block.settings.badge_text }}
              </span>
            {% endif %}
          </a>
        </li>
      {% endif %}
    {% endfor %}
  </ul>
</div>

<style>
.trending-menu {
  margin: 0;
  padding: 0;
}

.trending-title {
   font-size:16px;
  font-weight: bold;
  margin-bottom: 8px;
  font-family: Oxygen, sans-serif;    
    font-weight: 800;
    font-style: normal;
    letter-spacing: 0.025em;
    line-height: 1.3;
}

.trending-list {
  list-style: none;
  margin: 0;
  padding: 0 0 0 16px;
}

.trending-list li {
  margin: 6px 0;
}

.trending-list a {
  text-decoration: none;
  color: #333;
  position: relative;
}

.trending-list a:hover {
  text-decoration: underline;
}

.trending-list .badge {
  background: #f1f1f1;
  border-radius: 12px;
  padding: 2px 8px;
  font-size: 11px;
  text-transform: uppercase;
  margin-left: 6px;
  font-weight: 600;
  color: #555;
}

.trending-list .clearance {
  color: {{ section.settings.clearance_text_color | default: '#e63946' }};
}
</style>

         {% for block in section.blocks %}
         {% if block.type == "text" %} 
         {% if block.settings.col-title != blank %}
         <a href="{{ block.settings.col-link }}">
            <div class="collection-entry">
               <img src="{{ block.settings.col-img | img_url: '100x' }}" alt="{{ block.settings.col-img.alt | escape }}">
               <div class="col-info">
                  <span>{{ block.settings.col-title }}</span>
               </div>
            </div>
         </a>
         {% endif %}
         {% endif %}
         {% endfor %}
         {% for block in section.blocks %}
         {% if block.type == "image" %} 
         <div class="slink-entry dropdower {{ block.settings.gender }}">
            <a href="{% if block.settings.menu-link %}{{block.settings.menu-link}}{% else %}#{% endif %}" class="link-entry">
               {% if block.settings.menu-icon-image %}
               <img src="{{ block.settings.menu-icon-image | img_url: '100x100' }}" alt="{{ block.settings.menu-icon-image.alt | escape }}" class="menu-icon-image">
               {% else %}
               <i class="fa {{ block.settings.menu-icon }} iconily" aria-hidden="true"></i>
               {% endif %}
               <div class="link-info">
                  <span>{{ block.settings.menu-title }}</span>
               </div>
               {% if block.settings.dropdown-link.links.size > 0 %}
               <i class="fa fa-angle-right righter" aria-hidden="true"></i>
               <i class="fa fa-angle-down righter" aria-hidden="true"></i>
               {% endif %}
            </a>
            {% if block.settings.dropdown-link.links.size > 0 %}
            <ul class="linker dropdown-child  {{ block.settings.gender }}">
               {% for link in linklists[block.settings.dropdown-link].links %}
               <li class="menu-link ">
                  <a href="{{ link.url }}">{{ link.title }}</a>
                  {% comment %}
                  {% if link.links.size > 0 %}
                  <ul class="menu dropdown-grandchild">
                     {% for grandlink in link.links %}
                     <li class="menu-link">
                        <a href="{{ grandlink.url }}">{{ grandlink.title }}</a>
                     </li>
                     {% endfor %}
                  </ul>
                  {% endif %}
                  {% endcomment %}
               </li>
               {% endfor %}
            </ul>
            {% endif %}
         </div>
         {% endif %}
         {% endfor %}
         <hr>
         {% for link in linklists.slider-simple-3.links %}
         <a href="{{ link.url }}" class="newmenulink">{{ link.title }}</a>
         {% endfor %}
      </div>
   </div>
</div>
<style>
   .outer-menu{
   display:none;
   }
   @media only screen and (max-width:480px){
      .slink-entry.men{
         display:none;
      }
      .gendermenu{font-weight:900;}
   .newmenu{
      font-size:14px;
   }
   .menu-link a{
      font-size:14px;
   }
   .link-entry .link-info span{
      font-size:16px;
   }
   .gendermenu{
      text-align:center;
      flex:0 0 50%;
      padding:12px;
   }
   .gendermenu.jactive{
      border-left:1px solid rgba(1, 1, 1, 0.08);
      border-right:1px solid rgba(1, 1, 1, 0.08);
      border-bottom:2px solid #000;
   }
   .top-mobile-images{
      padding-left:0px;
      padding-right:0px;
   }
   .top-mobile-images img{
      margin-bottom:8px;
      width:100%;
   }
   .botborder{
      border-bottom:1px solid #000;
      padding-top:20px;
      padding-bottom:24px;
   }
   img.menu-icon-image{
   width: 43px;
   margin: 0 9px 0 8px;
   padding-right: 0px !important;
   }
   .righter{
   position: absolute;
   right: 0px;
   font-size: 28px;
   top: 8px;
   }
   
   .iconily{
   display: inline-block;
   display:none;
   font-size: 34px;
   width: 60px;
   text-align: center;
   display:none !important;
   }
   .slink-entry{
   position:relative;
   }
   .slink-entry .fa-angle-right{
   display:none;
   }
   .linker{
   list-style-type: none;
   }
   .linker li{
   margin-bottom:18px;
   }
   .outer-menu{
   display: block;
   }
   .dropdown-child{
   display:none;
   padding-top:16px;
   padding-left:0px;
   margin-left:16px !important;
   }
   .newmenulink{
   padding:12px 12px 1px;
   width:100%;
   display:inline-block;
   }
   .newmenu hr{
   border-top: 1px solid #fff !important; 
   }
   .outer-menu{
   width:100%;
   background:rgba(0,0,0,0.4);
   }
   .top-navmenu{
   width: 100%;
   position: relative;
   background: #fff;
   height: 42px;
   position: relative;
   display: flex;
   text-align: center;
   align-items: center;
   justify-content: flex-end;
   }
   .jactive{
   // color:gold;
   }
   .close-x{
   position:absolute;
   right:5px;
   top:6px;
   color:#fff;

   border-radius:50%;
   height:60px;
   width:60px;
   // border:2px solid #0B0D32;
   color:#0B0D32;
   display:flex;
   justify-content:center;
   align-items:center;
   flex-wrap:wrap;
   font-weight:800;
   background:transparent;     
   }
   .close-x .icon{
      width:100% !important;
      height:auto;
   }
   .newmenu{
   width:83%;
   position: relative;
   top: 0;
   background: #fff;
   color:#000;
   left: 0;
   z-index:999999;
   height:100vh;
   overflow-y:scroll;
   
   }
   .newmenu-inner{
      padding:16px 16px 30px;
   }
   .collection-entry{
   display:flex;
   flex-wrap:wrap;
   justify-content:space-between;
   border-bottom:1px solid #fff;
   }
   .collection-entry img{
   flex: 0 0 30%;
   height:auto;
   width:30%;
   }
   .collection-entry .col-info{
   flex: 0 0 70%;
   display:flex;
   flex-wrap:wrap;
   justify-content:space-between;
   align-items:center;
   padding-left:12px;
   }
   .link-entry{
   padding: 12px 20px 12px 0;
   width: 100%;
   display: flex;
   justify-content: flex-start;
   align-items: center;
   border-bottom:1px solid #000;
   }
   .link-entry img{
   display:none !important;
   }
   .link-entry .link-info span{
   font-weight:700;
   }
   .link-entry img{
   padding-right:20px;
   }
   .outer-menu{
   position: fixed;
   z-index: 99999;
   width: 100%;
   /* position: relative; */
   /* left: -100%; */
   background: #e8e8e8;
   width: 100%;
   left: -100%;
   display: block;
   top: 0;
   }
   }

</style><script>
document.addEventListener('DOMContentLoaded', function() {
  
  // Initial setup - add jactive class to women-menu and trigger click
  const womenMenu = document.querySelector('.women-menu');
  if (womenMenu) {
    womenMenu.classList.add('jactive');
    womenMenu.click();
  }
  
  // Men menu click handler
  const menMenus = document.querySelectorAll('.men-menu');
  menMenus.forEach(menMenu => {
    menMenu.addEventListener('click', function() {
      // Hide all .women elements
      const womenElements = document.querySelectorAll('.women');
      womenElements.forEach(el => {
        el.style.display = 'none';
      });
      
      // Show all .men elements
      const menElements = document.querySelectorAll('.men');
      menElements.forEach(el => {
        el.style.display = 'block';
      });
      
      // Toggle classes
      const allMenMenus = document.querySelectorAll('.men-menu');
      allMenMenus.forEach(menu => menu.classList.add('jactive'));
      
      const allWomenMenus = document.querySelectorAll('.women-menu');
      allWomenMenus.forEach(menu => menu.classList.remove('jactive'));
    });
  });
  
  // Women menu click handler
  const womenMenus = document.querySelectorAll('.women-menu');
  womenMenus.forEach(womenMenu => {
    womenMenu.addEventListener('click', function() {
      // Show all .women elements
      const womenElements = document.querySelectorAll('.women');
      womenElements.forEach(el => {
        el.style.display = 'block';
      });
      
      // Hide all .men elements
      const menElements = document.querySelectorAll('.men');
      menElements.forEach(el => {
        el.style.display = 'none';
      });
      
      // Toggle classes
      const allMenMenus = document.querySelectorAll('.men-menu');
      allMenMenus.forEach(menu => menu.classList.remove('jactive'));
      
      const allWomenMenus = document.querySelectorAll('.women-menu');
      allWomenMenus.forEach(menu => menu.classList.add('jactive'));
    });
  });
  
  // Click handler for .dropdower elements
  document.body.addEventListener('click', function(e) {
    const dropdower = e.target.closest('.dropdower');
    if (dropdower) {
      // Hide all dropdown-child elements
      const dropdownChildren = document.querySelectorAll('.dropdown-child');
      dropdownChildren.forEach(child => {
        child.style.display = 'none';
      });
      
      // Toggle (show) the clicked dropdown-child
      const currentDropdownChild = dropdower.querySelector('.dropdown-child');
      if (currentDropdownChild) {
        currentDropdownChild.style.display = 'block';
      }
      
      // Remove jactive and add dropdower to all slink-entry
      const slinkEntries = document.querySelectorAll('.slink-entry');
      slinkEntries.forEach(entry => {
        entry.classList.remove('jactive');
        entry.classList.add('dropdower');
      });
      
      // Add jactive and remove dropdower from clicked element
      dropdower.classList.add('jactive');
      dropdower.classList.remove('dropdower');
      
      // Toggle .righter
      const righter = dropdower.querySelector('.righter');
      if (righter) {
        const currentDisplay = window.getComputedStyle(righter).display;
        righter.style.display = currentDisplay === 'none' ? 'block' : 'none';
      }
    }
  });
  
  // Click handler for .jactive elements
  document.body.addEventListener('click', function(e) {
    const jactive = e.target.closest('.jactive');
    if (jactive) {
      // Hide all dropdown-child elements
      const dropdownChildren = document.querySelectorAll('.dropdown-child');
      dropdownChildren.forEach(child => {
        child.style.display = 'none';
      });
      
      // Remove jactive and add dropdower to all slink-entry
      const slinkEntries = document.querySelectorAll('.slink-entry');
      slinkEntries.forEach(entry => {
        entry.classList.remove('jactive');
        entry.classList.add('dropdower');
      });
      
      // Toggle .righter
      const righter = jactive.querySelector('.righter');
      if (righter) {
        const currentDisplay = window.getComputedStyle(righter).display;
        righter.style.display = currentDisplay === 'none' ? 'block' : 'none';
      }
    }
  });
  
  // Close button click handler
  const closeButtons = document.querySelectorAll('.close-x');
  closeButtons.forEach(closeButton => {
    closeButton.addEventListener('click', function() {
      const outerMenu = document.querySelector('.outer-menu');
      if (outerMenu) {
        outerMenu.style.transition = 'left 0.5s';
        const currentLeft = parseInt(window.getComputedStyle(outerMenu).left) || 0;
        outerMenu.style.left = (currentLeft - window.innerWidth) + 'px';
      }
    });
  });
  
  // Menu thumb click handler
  const menuThumbs = document.querySelectorAll('.site-nav__thumb-menu');
  menuThumbs.forEach(menuThumb => {
    menuThumb.addEventListener('click', function() {
      const outerMenu = document.querySelector('.outer-menu');
      if (outerMenu) {
        outerMenu.style.transition = 'left 0.5s';
        outerMenu.style.left = '0';
      }
    });
  });
  
  // Delayed trigger click on first slink-entry
  setTimeout(function() {
    const firstSlinkEntry = document.querySelector('.slink-entry:first-of-type');
    if (firstSlinkEntry) {
      firstSlinkEntry.click();
    }
  }, 4000);
  
});
</script>